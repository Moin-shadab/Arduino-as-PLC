1st Feature: Toggle Switch (Relay 1 Control)
Goal: When the toggle switch is pressed, Relay 1 should turn ON. When released, Relay 1 should turn OFF.
Wiring:
Connect one leg of the toggle switch to a GPIO pin on the ESP32 (e.g., GPIO 12).
Connect the other leg of the toggle switch to GND.
The relay module should be connected to another GPIO pin (e.g., GPIO 14).
Code: Use a simple digitalRead() function to check if the toggle switch is pressed and control Relay 1 accordingly.
2nd Feature: Push Button (Relay 2 Control)
Goal: When the push button is pressed, Relay 2 should turn ON for the duration the button is pressed.
Wiring:
Connect one leg of the push button to a GPIO pin on the ESP32 (e.g., GPIO 13).
Connect the other leg of the push button to GND.
The relay module should be connected to another GPIO pin (e.g., GPIO 15).
Code: When the button is pressed, Relay 2 should be ON; when released, it should turn OFF.
3rd Feature: Limit Switch (Relay 3 & Relay 2 Control)
Goal: When the limit switch is pressed, Relay 3 should turn ON for 3 seconds, and Relay 2 should turn ON for 4 seconds.
Wiring:
Connect one leg of the limit switch to a GPIO pin on the ESP32 (e.g., GPIO 16).
Connect the other leg of the limit switch to GND.
Connect Relay 3 to a GPIO pin (e.g., GPIO 17).
Connect Relay 2 to another GPIO pin (e.g., GPIO 15).
Code: When the limit switch is pressed, the code will activate Relay 3 for 3 seconds and Relay 2 for 4 seconds, then turn them both off.
4th Feature: Second Limit Switch (Relay 3 Control)
Goal: When the second limit switch is pressed, Relay 3 should turn ON for 1 second, then turn OFF.
Wiring:
Connect the second limit switch to a GPIO pin on the ESP32 (e.g., GPIO 18).
Connect Relay 3 to the same GPIO pin as in the previous step (e.g., GPIO 17).
Code: When the limit switch is pressed, Relay 3 should turn ON for 1 second and then turn OFF.
Summary of Wiring:
Toggle Switch (Relay 1):

GPIO 12 → Toggle Switch → GND
GPIO 14 → Relay 1
Push Button (Relay 2):

GPIO 13 → Push Button → GND
GPIO 15 → Relay 2
Limit Switch 1 (Relay 3 and Relay 2):

GPIO 16 → Limit Switch 1 → GND
GPIO 17 → Relay 3
GPIO 15 → Relay 2 (same as for the push button)
Limit Switch 2 (Relay 3):

GPIO 18 → Limit Switch 2 → GND
GPIO 17 → Relay 3 (same as for Limit Switch 1)


#define TOGGLE_SWITCH_PIN 12    // Toggle Switch Pin
#define BUTTON_PIN 13           // Push Button Pin
#define LIMIT_SWITCH1_PIN 16    // Limit Switch 1 Pin
#define LIMIT_SWITCH2_PIN 18    // Limit Switch 2 Pin
#define RELAY1_PIN 14           // Relay 1 Pin
#define RELAY2_PIN 15           // Relay 2 Pin
#define RELAY3_PIN 17           // Relay 3 Pin

void setup() {
  pinMode(TOGGLE_SWITCH_PIN, INPUT_PULLUP);
  pinMode(BUTTON_PIN, INPUT_PULLUP);
  pinMode(LIMIT_SWITCH1_PIN, INPUT_PULLUP);
  pinMode(LIMIT_SWITCH2_PIN, INPUT_PULLUP);
  
  pinMode(RELAY1_PIN, OUTPUT);
  pinMode(RELAY2_PIN, OUTPUT);
  pinMode(RELAY3_PIN, OUTPUT);

  digitalWrite(RELAY1_PIN, LOW);
  digitalWrite(RELAY2_PIN, LOW);
  digitalWrite(RELAY3_PIN, LOW);
}

void loop() {
  // Feature 1: Toggle Switch (Relay 1 Control)
  if (digitalRead(TOGGLE_SWITCH_PIN) == LOW) {  // If switch is pressed
    digitalWrite(RELAY1_PIN, HIGH);
  } else {
    digitalWrite(RELAY1_PIN, LOW);
  }

  // Feature 2: Push Button (Relay 2 Control)
  if (digitalRead(BUTTON_PIN) == LOW) {  // If button is pressed
    digitalWrite(RELAY2_PIN, HIGH);
  } else {
    digitalWrite(RELAY2_PIN, LOW);
  }

  // Feature 3: Limit Switch 1 (Relay 3 for 3 sec and Relay 2 for 4 sec)
  if (digitalRead(LIMIT_SWITCH1_PIN) == LOW) {
    digitalWrite(RELAY3_PIN, HIGH);
    delay(3000);  // Relay 3 stays ON for 3 seconds
    digitalWrite(RELAY3_PIN, LOW);

    digitalWrite(RELAY2_PIN, HIGH);
    delay(4000);  // Relay 2 stays ON for 4 seconds
    digitalWrite(RELAY2_PIN, LOW);
  }

  // Feature 4: Limit Switch 2 (Relay 3 for 1 sec)
  if (digitalRead(LIMIT_SWITCH2_PIN) == LOW) {
    digitalWrite(RELAY3_PIN, HIGH);
    delay(1000);  // Relay 3 stays ON for 1 second
    digitalWrite(RELAY3_PIN, LOW);
  }
}

hi am using arduino nano 

i need feature like this when 

1. when one push button pressed then relay 1 on when release relay 1 off

2. when second  push button pressed relay 2 on when release relay 2 off 

3. when third push button just pressed and instantly released then relay 2 on for 10 sec and relay 3 on for 3 sec again when he pressed then again same cycle 

4. when fourth push button just pressed and released instantly then relay 3 on for 3 sec after it off 

all work independently push buttons use safety features accto you give wiring also and code 
note every action performed when button pressed not on power o


// Define pin numbers for buttons and relays
const int button1Pin = 2;
const int button2Pin = 3;
const int button3Pin = 4;
const int button4Pin = 5;

const int relay1Pin = 6;
const int relay2Pin = 7;
const int relay3Pin = 8;

// Variables to track button states
int button1State = 0;
int button2State = 0;
int button3State = 0;
int button4State = 0;

unsigned long button3Timer = 0;
unsigned long button4Timer = 0;

void setup() {
  // Set button pins as inputs with internal pull-up resistors
  pinMode(button1Pin, INPUT_PULLUP);
  pinMode(button2Pin, INPUT_PULLUP);
  pinMode(button3Pin, INPUT_PULLUP);
  pinMode(button4Pin, INPUT_PULLUP);

  // Set relay pins as outputs
  pinMode(relay1Pin, OUTPUT);
  pinMode(relay2Pin, OUTPUT);
  pinMode(relay3Pin, OUTPUT);

  // Initially turn off all relays
  digitalWrite(relay1Pin, LOW);
  digitalWrite(relay2Pin, LOW);
  digitalWrite(relay3Pin, LOW);
}

void loop() {
  // Read the button states (buttons are active LOW, so the logic is inverted)
  button1State = digitalRead(button1Pin) == LOW;
  button2State = digitalRead(button2Pin) == LOW;
  button3State = digitalRead(button3Pin) == LOW;
  button4State = digitalRead(button4Pin) == LOW;

  // Button 1: Turn relay 1 on when pressed, off when released
  if (button1State) {
    digitalWrite(relay1Pin, HIGH);
  } else {
    digitalWrite(relay1Pin, LOW);
  }

  // Button 2: Turn relay 2 on when pressed, off when released
  if (button2State) {
    digitalWrite(relay2Pin, HIGH);
  } else {
    digitalWrite(relay2Pin, LOW);
  }

  // Button 3: When pressed and released, activate relays 2 for 10s, 3 for 3s
  if (button3State && (millis() - button3Timer > 200)) {  // debounce and detect press
    button3Timer = millis();  // record the press time
    digitalWrite(relay2Pin, HIGH);
    delay(10000);  // 10 seconds
    digitalWrite(relay3Pin, HIGH);
    delay(3000);  // 3 seconds
    digitalWrite(relay2Pin, LOW);
    digitalWrite(relay3Pin, LOW);
  }

  // Button 4: When pressed and released, activate relay 3 for 3 seconds
  if (button4State && (millis() - button4Timer > 200)) {  // debounce and detect press
    button4Timer = millis();  // record the press time
    digitalWrite(relay3Pin, HIGH);
    delay(3000);  // 3 seconds
    digitalWrite(relay3Pin, LOW);
  }
}

